(this["webpackJsonptodo-closing"]=this["webpackJsonptodo-closing"]||[]).push([[0],{25:function(e,t,n){},28:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),i=n(19),r=n.n(i),o=(n(25),n(4)),s=n.n(o),u=n(8),d=n(6),p=n(10),l=function(e,t){return e.isComplete-t.isComplete!==0?e.isComplete-t.isComplete:(n=e.date,a=t.date,n&&a?new Date(n).getTime()-new Date(a).getTime():n?-1:1);var n,a},f=function(e){return e.isComplete?"completed":e.isUrgent?"urgent":"pending"},b=n(0),h=function(e){var t=e.task,n=e.updateTask;return Object(b.jsxs)("div",{className:"taskItem ".concat(f(t)),children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"checkbox",name:"task ".concat(t.id),checked:t.isComplete,onChange:function(){n(t.id,!t.isComplete)}}),Object(b.jsx)("label",{htmlFor:"task ".concat(t.id),children:t.description})]}),t.dueDate?Object(b.jsx)("div",{className:"date-due",children:t.dueDate}):""]})},j=function(e){var t=e.taskList,n=e.updateTask;return Object(b.jsx)("div",{className:"taskList",children:t?t.map((function(e,t){return Object(b.jsx)(h,{task:e,updateTask:n},t)})):""})},m=(n(28),n(20)),v=n(9),k=n.n(v),O=new function e(){Object(m.a)(this,e),this.getTodoList=function(){return k()({method:"get",url:"https://944ba3c5-94c3-4369-a9e6-a509d65912e2.mock.pstmn.io/get",headers:{"X-Api-Key":" PMAK-5ef63db179d23c004de50751-10300736bc550d2a891dc4355aab8d7a5c"}})},this.updateTodoList=function(e,t){var n={method:"patch",url:"https://944ba3c5-94c3-4369-a9e6-a509d65912e2.mock.pstmn.io/patch/".concat(e),headers:{"X-Api-Key":" PMAK-5ef63db179d23c004de50751-10300736bc550d2a891dc4355aab8d7a5c","Content-Type":" application/json"},data:{isComplete:t}};return k()(n)}},g=function(e){return!e.isComplete&&(!!e.date&&e.date.getTime()<(new Date).getTime())};var x=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)("light"),r=Object(p.a)(i,2),o=r[0],f=r[1],h=function(e,t,n){var a=e[t];e[t].isComplete=n,e[t].isUrgent=g(a),e.sort((function(e,t){return l(e,t)})),c(Object(d.a)(e))},m=function(){var e=Object(u.a)(s.a.mark((function e(t,a){var c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.updateTodoList(t);case 3:e.next=11;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),c=Object(d.a)(n),i=c.findIndex((function(e){return e.id===t})),h(c,i,!a);case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.getTodoList();case 3:t=e.sent,n=t.data,(a=n.map((function(e){var t={};return t.id=e.id,t.description=e.description,t.dueDate=e.dueDate?new Date(e.dueDate).toLocaleDateString():"",t.date=e.dueDate?new Date(e.dueDate):null,t.isComplete=e.isComplete,t.isUrgent=g(t),t}))).sort((function(e,t){return l(e,t)})),c(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(b.jsxs)("div",{className:"container-App ".concat(o),children:[Object(b.jsx)("h1",{children:"Todo App "}),Object(b.jsx)("button",{onClick:function(){return f((function(e){return"light"===e?"dark":"light"}))},children:"Switch Theme"}),Object(b.jsx)(j,{taskList:n,updateTask:function(e,t){var a=Object(d.a)(n),c=a.findIndex((function(t){return t.id===e}));h(a,c,t),m(e,t)}})]})};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.ce32c70f.chunk.js.map